{% extends "base.twig" %}

{% block content %}

	<div class="container max-w-7xl mx-auto px-4 py-12">
		<header class="text-center mb-12">
			<h1 class="text-4xl md:text-5xl lg:text-6xl font-display uppercase font-bold mb-6 text-ms-gold">{{ post.title }}</h1>
			<p class="mt-4 text-lg text-white/70 max-w-2xl mx-auto">{{ __('Une sélection raffinée signée Monsieur Sens — portions et présentations adaptées à vos événements. Parcourez par type et contactez-nous pour personnaliser.', 'awstarter') }}</p>
		</header>

		{% for group in suggestion_groups %}
			<section class="my-12 border-2 border-ms-gold rounded-lg p-4">
				<div class="flex flex-col md:flex-row gap-8 items-start {{ group.title_left ? '' : 'md:flex-row-reverse' }}">
					<div class="md:w-1/2 flex items-start">
						<div class="sticky top-24 w-full flex flex-col items-center">
							<h2 class="text-2xl font-semibold text-center">{{ group.title }}</h2>
							{% if group.special %}
								<p class="mt-3 text-sm text-gray-500 text-center">{{ __('Sur demande uniquement — devis personnalisé', 'awstarter') }}</p>
							{% endif %}

							{% if group.posts and group.posts|length > 0 %}
								<div class="mt-4 w-full">
									<div class="relative w-full h-60 rounded overflow-hidden suggestion-rotator" data-interval="3500">
										{% for plat in group.posts %}
											{% if plat.thumbnail %}
												<img src="{{ plat.thumbnail.src }}" alt="{{ plat.title }}" loading="lazy" class="rotator-image absolute inset-0 w-full h-full object-cover transition-opacity duration-700 {{ loop.first ? 'opacity-100' : 'opacity-0' }}" />
											{% endif %}
										{% endfor %}
									</div>
								</div>
							{% endif %}
						</div>
					</div>

					<div class="md:w-1/2">
						{% if group.special %}
							<div class="bg-gray-50 p-6 rounded-lg">
								<p class="text-gray-700">{{ __('Nous proposons nos plateaux repas pour entreprises et événements. Pour les tarifs et compositions, merci de nous contacter :', 'awstarter') }}
									<a href="/contact" class="text-blue-600 underline">{{ __('Demander un devis', 'awstarter') }}</a>.</p>
							</div>
						{% elseif group.posts and group.posts|length > 0 %}
							<div class="grid gap-4 grid-cols-1 sm:grid-cols-2">
								{% for plat in group.posts %}
									{% include 'partial/suggestion-plat.twig' with {plat: plat} %}
								{% endfor %}
							</div>
						{% else %}
							<p class="text-gray-600">{{ __('Aucun élément disponible pour cette section pour le moment.', 'awstarter') }}</p>
						{% endif %}
					</div>
				</div>
			</section>
		{% endfor %}


		{# Bouton pour télécharger le menu complet si champ PDF présent #}
		{% if menu_pdf %}
			<div class="mt-8 text-center">
				<a href="{{ menu_pdf.url }}" class="inline-block bg-ms-gold text-black py-2 px-6 rounded-lg font-semibold border-2 border-transparent hover:bg-black hover:text-ms-gold hover:border-ms-gold transition duration-300" target="_blank" rel="noopener">{{ __('Télécharger le menu complet', 'awstarter') }}</a>
			</div>
		{% endif %}

	</div>

{% endblock %}
